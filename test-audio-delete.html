<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∞—É–¥—ñ–æ —Ñ–∞–π–ª—ñ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            background: #f8f9fa;
        }
        h2 {
            color: #495057;
            margin-bottom: 15px;
        }
        .test-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            border: 1px solid #dee2e6;
        }
        .test-item .icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #007bff, #6610f2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }
        .test-item .content {
            flex: 1;
        }
        .test-item .title {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }
        .test-item .description {
            color: #6c757d;
            font-size: 14px;
        }
        .delete-btn {
            padding: 8px 12px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }
        .delete-btn:hover {
            background: #c82333;
            transform: translateY(-1px);
        }
        .status {
            padding: 10px 15px;
            border-radius: 6px;
            margin-top: 15px;
            font-weight: 500;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .instructions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .instructions h3 {
            color: #856404;
            margin-bottom: 10px;
        }
        .instructions ul {
            color: #856404;
            margin: 0;
            padding-left: 20px;
        }
        .test-storage {
            margin-top: 20px;
            padding: 15px;
            background: #e9ecef;
            border-radius: 6px;
        }
        .test-storage h4 {
            margin-bottom: 10px;
            color: #495057;
        }
        .storage-info {
            font-family: monospace;
            font-size: 12px;
            color: #6c757d;
            max-height: 200px;
            overflow-y: auto;
            background: white;
            padding: 10px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéµ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∞—É–¥—ñ–æ –∑ –±–ª–æ–∫—ñ–≤</h1>
        
        <div class="instructions">
            <h3>üìã –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:</h3>
            <ul>
                <li>–í—ñ–¥–∫—Ä–∏–π—Ç–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É –ø–∞–Ω–µ–ª—å —Å–∞–π—Ç—É</li>
                <li>–ü–µ—Ä–µ–π–¥—ñ—Ç—å —É —Ä–æ–∑–¥—ñ–ª "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≥–æ–ª–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏"</li>
                <li>–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "–ó–≤—É–∫"</li>
                <li>–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –æ–¥–∏–Ω –∞—É–¥—ñ–æ —Ñ–∞–π–ª —É –∫—ñ–ª—å–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –±–ª–æ–∫—ñ–≤</li>
                <li>–°–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ñ–∞–π–ª –∑ –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —á–µ—Ä–≤–æ–Ω–æ–≥–æ —Ö—Ä–µ—Å—Ç–∏–∫–∞ ‚úï</li>
                <li>–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Ñ–∞–π–ª –≤–∏–¥–∞–ª–∏–≤—Å—è —Ç—ñ–ª—å–∫–∏ –∑ —Ü—å–æ–≥–æ –±–ª–æ–∫—É</li>
                <li>–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Ç–æ–π —Å–∞–º–∏–π —Ñ–∞–π–ª –≤—Å–µ —â–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –≤ –º–µ–¥—ñ–∞-–±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ</li>
                <li>–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç–æ–π —Å–∞–º–∏–π —Ñ–∞–π–ª –∑–Ω–æ–≤—É –≤ –±—É–¥—å-—è–∫–∏–π –±–ª–æ–∫</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>üéØ –ë–ª–æ–∫–∏ –∑–≤—É–∫—ñ–≤ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</h2>
            
            <div class="test-item">
                <div class="icon">üéµ</div>
                <div class="content">
                    <div class="title">–§–æ–Ω–æ–≤–∞ –º—É–∑–∏–∫–∞</div>
                    <div class="description">–¢–µ—Å—Ç—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–æ–Ω–æ–≤–æ—ó –º—É–∑–∏–∫–∏</div>
                </div>
                <button class="delete-btn" onclick="testDelete('backgroundMusic')">‚úï –í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>

            <div class="test-item">
                <div class="icon">üëÜ</div>
                <div class="content">
                    <div class="title">–ó–≤—É–∫–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—è</div>
                    <div class="description">–¢–µ—Å—Ç—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–≤—É–∫—ñ–≤ –Ω–∞–≤–µ–¥–µ–Ω–Ω—è</div>
                </div>
                <button class="delete-btn" onclick="testDelete('hoverSound')">‚úï –í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>

            <div class="test-item">
                <div class="icon">üñ±Ô∏è</div>
                <div class="content">
                    <div class="title">–ó–≤—É–∫–∏ –∫–ª—ñ–∫—ñ–≤</div>
                    <div class="description">–¢–µ—Å—Ç—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–≤—É–∫—ñ–≤ –∫–ª—ñ–∫—ñ–≤</div>
                </div>
                <button class="delete-btn" onclick="testDelete('clickSound')">‚úï –í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>

            <div class="test-item">
                <div class="icon">üîÑ</div>
                <div class="content">
                    <div class="title">–ó–≤—É–∫ –ø–µ—Ä–µ—Ö–æ–¥—É –∫–∞—Ä—É—Å–µ–ª—ñ</div>
                    <div class="description">–¢–µ—Å—Ç—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–≤—É–∫—ñ–≤ –ø–µ—Ä–µ—Ö–æ–¥—É</div>
                </div>
                <button class="delete-btn" onclick="testDelete('carouselTransition')">‚úï –í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>

            <div class="test-item">
                <div class="icon">üëÜ</div>
                <div class="content">
                    <div class="title">–ó–≤—É–∫ –Ω–∞–≤–µ–¥–µ–Ω–Ω—è –∫–∞—Ä—É—Å–µ–ª—ñ</div>
                    <div class="description">–¢–µ—Å—Ç—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–≤—É–∫—ñ–≤ –Ω–∞–≤–µ–¥–µ–Ω–Ω—è –∫–∞—Ä—É—Å–µ–ª—ñ</div>
                </div>
                <button class="delete-btn" onclick="testDelete('carouselHover')">‚úï –í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>

            <div class="test-item">
                <div class="icon">üéØ</div>
                <div class="content">
                    <div class="title">–ó–≤—É–∫ –∫–ª—ñ–∫—É –∫–∞—Ä—É—Å–µ–ª—ñ</div>
                    <div class="description">–¢–µ—Å—Ç—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–≤—É–∫—ñ–≤ –∫–ª—ñ–∫—É –∫–∞—Ä—É—Å–µ–ª—ñ</div>
                </div>
                <button class="delete-btn" onclick="testDelete('carouselClick')">‚úï –í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>
        </div>

        <div class="test-section">
            <h2>üìä –°—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è</h2>
            <button onclick="checkStorage()" style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">üîç –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω</button>
            
            <div class="test-storage">
                <h4>üìÇ localStorage (smartContentManager_v2):</h4>
                <div id="localStorage-info" class="storage-info">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω" –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó</div>
            </div>
            
            <div class="test-storage">
                <h4>üíæ IndexedDB (SmartContentManagerDB):</h4>
                <div id="indexeddb-info" class="storage-info">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω" –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó</div>
            </div>
        </div>

        <div id="test-results"></div>
    </div>

    <script>
        function testDelete(audioType) {
            const resultsDiv = document.getElementById('test-results');
            
            resultsDiv.innerHTML = `
                <div class="status info">
                    üîÑ –°–∏–º—É–ª—è—Ü—ñ—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∞—É–¥—ñ–æ –∑ –±–ª–æ–∫—É: <strong>${audioType}</strong><br>
                    ‚ÑπÔ∏è –§–∞–π–ª –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–æ —Ç—ñ–ª—å–∫–∏ –∑ —Ü—å–æ–≥–æ –±–ª–æ–∫—É, –∞–ª–µ –∑–∞–ª–∏—à–∏—Ç—å—Å—è –≤ –º–µ–¥—ñ–∞-–±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ<br>
                    ‚ö†Ô∏è –¶–µ–π —Ç–µ—Å—Ç —Ç—ñ–ª—å–∫–∏ —Å–∏–º—É–ª—é—î –ø—Ä–æ—Ü–µ—Å. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É –ø–∞–Ω–µ–ª—å –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.
                </div>
            `;

            // –°–∏–º—É–ª—è—Ü—ñ—è –ª–æ–≥—ñ–∫–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
            setTimeout(() => {
                console.log(`üóëÔ∏è –í–∏–¥–∞–ª–µ–Ω–Ω—è –∞—É–¥—ñ–æ –∑ –±–ª–æ–∫—É: ${audioType}`);
                
                resultsDiv.innerHTML = `
                    <div class="status success">
                        ‚úÖ –°–∏–º—É–ª—è—Ü—ñ—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è –±–ª–æ–∫—É: <strong>${audioType}</strong><br>
                        üìù –§–∞–π–ª –≤–∏–¥–∞–ª–µ–Ω–æ –∑ –±–ª–æ–∫—É, –∞–ª–µ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ –º–µ–¥—ñ–∞-–±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ<br>
                        üîÑ –¢–µ–ø–µ—Ä —Ç–æ–π —Å–∞–º–∏–π —Ñ–∞–π–ª –º–æ–∂–Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π –±–ª–æ–∫<br>
                        üìã –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–∏—Ö –ª–æ–≥—ñ–≤
                    </div>
                `;
            }, 1000);
        }

        async function checkStorage() {
            const localStorageDiv = document.getElementById('localStorage-info');
            const indexedDBDiv = document.getElementById('indexeddb-info');

            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ localStorage
            try {
                const localData = localStorage.getItem('smartContentManager_v2');
                if (localData) {
                    const parsedData = JSON.parse(localData);
                    const audioFiles = parsedData.filter(file => file.type === 'audio');
                    localStorageDiv.innerHTML = `
                        <strong>–ó–Ω–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª—ñ–≤:</strong> ${parsedData.length}<br>
                        <strong>–ê—É–¥—ñ–æ —Ñ–∞–π–ª—ñ–≤:</strong> ${audioFiles.length}<br>
                        <strong>–†–æ–∑–º—ñ—Ä –¥–∞–Ω–∏—Ö:</strong> ${(localData.length / 1024).toFixed(2)} KB<br>
                        <br><strong>–ê—É–¥—ñ–æ —Ñ–∞–π–ª–∏:</strong><br>
                        ${audioFiles.map(file => `- ${file.name} (ID: ${file.id}, hasUrl: ${!!file.url})`).join('<br>')}
                    `;
                } else {
                    localStorageDiv.innerHTML = '<em>–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö —É localStorage</em>';
                }
            } catch (error) {
                localStorageDiv.innerHTML = `<em style="color: red;">–ü–æ–º–∏–ª–∫–∞ —á–∏—Ç–∞–Ω–Ω—è localStorage: ${error.message}</em>`;
            }

            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ IndexedDB
            try {
                const dbRequest = indexedDB.open('SmartContentManagerDB', 2);
                
                dbRequest.onsuccess = (event) => {
                    const db = event.target.result;
                    
                    if (!db.objectStoreNames.contains('files')) {
                        indexedDBDiv.innerHTML = '<em>–û–±\'—î–∫—Ç-—Å—Ö–æ–≤–∏—â–µ "files" –Ω–µ —ñ—Å–Ω—É—î</em>';
                        db.close();
                        return;
                    }

                    const transaction = db.transaction(['files'], 'readonly');
                    const store = transaction.objectStore('files');
                    const getAllRequest = store.getAll();

                    getAllRequest.onsuccess = () => {
                        const allFiles = getAllRequest.result;
                        const audioFiles = allFiles.filter(file => file.type === 'audio');
                        
                        indexedDBDiv.innerHTML = `
                            <strong>–ó–Ω–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª—ñ–≤:</strong> ${allFiles.length}<br>
                            <strong>–ê—É–¥—ñ–æ —Ñ–∞–π–ª—ñ–≤:</strong> ${audioFiles.length}<br>
                            <br><strong>–ê—É–¥—ñ–æ —Ñ–∞–π–ª–∏:</strong><br>
                            ${audioFiles.map(file => `- ${file.name} (ID: ${file.id}, size: ${(file.size / 1024).toFixed(2)} KB)`).join('<br>')}
                        `;
                        
                        db.close();
                    };

                    getAllRequest.onerror = () => {
                        indexedDBDiv.innerHTML = '<em style="color: red;">–ü–æ–º–∏–ª–∫–∞ —á–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –∑ IndexedDB</em>';
                        db.close();
                    };
                };

                dbRequest.onerror = () => {
                    indexedDBDiv.innerHTML = '<em style="color: red;">–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è IndexedDB</em>';
                };
            } catch (error) {
                indexedDBDiv.innerHTML = `<em style="color: red;">–ü–æ–º–∏–ª–∫–∞ —Ä–æ–±–æ—Ç–∏ –∑ IndexedDB: ${error.message}</em>`;
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        window.addEventListener('load', () => {
            setTimeout(checkStorage, 500);
        });

        // –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è
        console.log('üéµ –¢–µ—Å—Ç–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞');
        console.log('üìã –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:');
        console.log('1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É –ø–∞–Ω–µ–ª—å');
        console.log('2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≥–æ–ª–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏" > "–ó–≤—É–∫"');
        console.log('3. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞—É–¥—ñ–æ —Ñ–∞–π–ª —É –∫—ñ–ª—å–∫–∞ –±–ª–æ–∫—ñ–≤');
        console.log('4. –í–∏–¥–∞–ª—ñ—Ç—å —Ñ–∞–π–ª –∑ –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫—É —á–µ—Ä–≤–æ–Ω–∏–º —Ö—Ä–µ—Å—Ç–∏–∫–æ–º (—Ñ–∞–π–ª –∑–∞–ª–∏—à–∏—Ç—å—Å—è –≤ –º–µ–¥—ñ–∞-–±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ)');
        console.log('5. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç–æ–π —Å–∞–º–∏–π —Ñ–∞–π–ª –∑–Ω–æ–≤—É –≤ –±—É–¥—å-—è–∫–∏–π –±–ª–æ–∫');
    </script>
</body>
</html> 